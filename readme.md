# 後期実験「マイクロプロセッサの設計と実装」
## アーキテクチャ
### バージョン2: 4サイクル・パイプライン
#### パイプラインステージ
- IFステージ: PCを代入し(posedge)、ROMから命令を読み込む(negedge)
- IDステージ: 命令をデコードし、レジスタからオペランドを読み込む
- EXステージ: ALUで演算を行い(posedge)、メモリ読み書きがあれば実行する(negedge)
- WBステージ: レジスタに結果を書き込む
#### 工夫
- デフォルトでPC<=PC+4で計算する(常に分岐しないと予測する)ことで、デコード待ちのストールが不要
- フォワーディングを行うことで、EXステージでのレジスタ書き込み待ちのストールが不要
![V2アーキテクチャ](./fig/v2.png)
#### パフォーマンス
35MHzで動作。

## 歴代アーキテクチャ
### バージョン1: 5サイクル・非パイプライン
![V1アーキテクチャ](./fig/v1.png)